{"version":3,"sources":["webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./resources/js/views/UserProfile.vue?61af","webpack:///./resources/js/views/UserProfile.vue?fc53","webpack:///resources/js/views/UserProfile.vue","webpack:///./resources/js/views/UserProfile.vue"],"names":["normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","this","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","avatar","_v","userId","labels","uploadHeaders","outputOptions","cropperOptions","on","handleUploading","handleUploaded","handleCompleted","handlerError","_s","name","staticStyle","_e","description","authUser","user_id","_m","directives","rawName","value","expression","domProps","$event","target","composing","imageUploadMes","updateProfile","email","oldPassword","newPassword","confirmPassword","updateAccount"],"mappings":"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","file":"js/vuejs_code_split/14.js","sourcesContent":["/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"sidebar-wrap\"},[(_vm.userId)?_c('div',{staticClass:\"sidebar-box p-4 about text-center ftco-animate\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":'/storage/images/avatars/' + _vm.avatar}}),_vm._v(\" \"),_c('avatar-cropper',{attrs:{\"trigger\":\"#uploadAvatar\",\"upload-url\":'/api/user/upload-avatar/' + _vm.userId,\"upload-form-name\":\"avatar\",\"labels\":_vm.labels,\"uploadHeaders\":_vm.uploadHeaders,\"output-options\":_vm.outputOptions,\"cropper-options\":_vm.cropperOptions},on:{\"uploading\":_vm.handleUploading,\"uploaded\":_vm.handleUploaded,\"completed\":_vm.handleCompleted,\"error\":_vm.handlerError}}),_vm._v(\" \"),_c('p',{staticClass:\" mb-2\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),(_vm.admin)?_c('p',{staticClass:\"m-2\",staticStyle:{\"color\":\"red\"}},[_vm._v(\"Администратор\")]):_vm._e(),_vm._v(\" \"),(_vm.banned)?_c('p',{staticClass:\"m-2\",staticStyle:{\"color\":\"red\"}},[_vm._v(\"Заблокирован\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"pt-4\"},[(_vm.description)?_c('p',{staticClass:\"text-break\"},[_vm._v(_vm._s(_vm.description))]):_vm._e()])],1):_c('div',{staticClass:\"sidebar-box p-4 about text-center ftco-animate\"},[_c('p',[_vm._v(\"Пользователь не найден\")])])]),_vm._v(\" \"),(_vm.authUser  && _vm.userId && _vm.authUser.user_id === _vm.userId)?_c('div',{staticClass:\"container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\",attrs:{\"id\":\"myTabContent\"}},[_c('div',{staticClass:\"tab-pane fade show active\",attrs:{\"id\":\"home\",\"role\":\"tabpanel\",\"aria-labelledby\":\"home-tab\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"statusInput\"}},[_vm._v(\"Статус\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"statusInput\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"uploadAvatar\"}},[_vm._v(\"Аватар\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.imageUploadMes))]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary btn-block\",attrs:{\"id\":\"uploadAvatar\"}},[_vm._v(\"Загрузить новый аватар\")])]),_vm._v(\" \"),_c('span',{staticClass:\"btn btn-primary btn-block\",on:{\"click\":function($event){return _vm.updateProfile()}}},[_vm._v(\"Обновить\")])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"profile\",\"role\":\"tabpanel\",\"aria-labelledby\":\"profile-tab\"}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"emailInput\"}},[_vm._v(\"Email\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"emailInput\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"oldPasswordInput\"}},[_vm._v(\"Старый пароль\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.oldPassword),expression:\"oldPassword\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"oldPasswordInput\"},domProps:{\"value\":(_vm.oldPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.oldPassword=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"passwordInput\"}},[_vm._v(\"Новый пароль\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newPassword),expression:\"newPassword\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"passwordInput\"},domProps:{\"value\":(_vm.newPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newPassword=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"confirmInput\"}},[_vm._v(\"Повторите пароль\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.confirmPassword),expression:\"confirmPassword\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"confirmInput\"},domProps:{\"value\":(_vm.confirmPassword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.confirmPassword=$event.target.value}}})]),_vm._v(\" \"),_c('span',{staticClass:\"btn btn-primary btn-block\",on:{\"click\":function($event){return _vm.updateAccount()}}},[_vm._v(\"Обновить\")])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav nav-tabs\",attrs:{\"id\":\"myTab\",\"role\":\"tablist\"}},[_c('li',{staticClass:\"nav-item\",attrs:{\"role\":\"presentation\"}},[_c('a',{staticClass:\"nav-link active\",attrs:{\"id\":\"home-tab\",\"data-toggle\":\"tab\",\"href\":\"#home\",\"role\":\"tab\",\"aria-controls\":\"home\",\"aria-selected\":\"true\"}},[_vm._v(\"Настройки профиля\")])]),_vm._v(\" \"),_c('li',{staticClass:\"nav-item\",attrs:{\"role\":\"presentation\"}},[_c('a',{staticClass:\"nav-link\",attrs:{\"id\":\"profile-tab\",\"data-toggle\":\"tab\",\"href\":\"#profile\",\"role\":\"tab\",\"aria-controls\":\"profile\",\"aria-selected\":\"false\"}},[_vm._v(\"Настройки учетной записи\")])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfile.vue?vue&type=script&lang=js&\"","<template>\n            <div>\n                <div class=\"sidebar-wrap\">\n                    <div class=\"sidebar-box p-4 about text-center ftco-animate\" v-if=\"userId\">\n                        <img :src=\"'/storage/images/avatars/' + avatar\" class=\"img-fluid\">\n                            <avatar-cropper\n                                trigger=\"#uploadAvatar\"\n                                :upload-url=\"'/api/user/upload-avatar/' + userId\"\n                                upload-form-name=\"avatar\"\n                                :labels = labels\n                                :uploadHeaders = uploadHeaders\n                                :output-options = outputOptions\n                                :cropper-options = cropperOptions\n                                @uploading=\"handleUploading\"\n                                @uploaded=\"handleUploaded\"\n                                @completed=\"handleCompleted\"\n                                @error=\"handlerError\"\n                            ></avatar-cropper>\n                        <p class=\" mb-2\">{{name}}</p>\n                        <p class=\"m-2\" v-if=\"admin\" style=\"color: red\">Администратор</p>\n                        <p class=\"m-2\" v-if=\"banned\" style=\"color: red\">Заблокирован</p>\n                        <div class=\"pt-4\">\n                            <p v-if=\"description\" class=\"text-break\">{{description}}</p>\n                        </div>\n                    </div>\n                    <div class=\"sidebar-box p-4 about text-center ftco-animate\" v-else>\n                        <p>Пользователь не найден</p>\n                    </div>\n                </div>\n\n                <div v-if=\"authUser  && userId && authUser.user_id === userId\" class=\"container\">\n                    <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                        <li class=\"nav-item\" role=\"presentation\">\n                            <a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Настройки профиля</a>\n                        </li>\n                        <li class=\"nav-item\" role=\"presentation\">\n                            <a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Настройки учетной записи</a>\n                        </li>\n                    </ul>\n                    <div class=\"tab-content\" id=\"myTabContent\">\n                        <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\n                            <div class=\"form-group\">\n                                <label for=\"statusInput\">Статус</label>\n                                <input type=\"text\" class=\"form-control\" id=\"statusInput\" v-model=\"description\">\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"uploadAvatar\">Аватар</label>\n                                <p>{{imageUploadMes}}</p>\n                                <button class=\"btn btn-primary btn-block\" id=\"uploadAvatar\">Загрузить новый аватар</button>\n                            </div>\n                            <span class=\"btn btn-primary btn-block\" v-on:click=\"updateProfile()\">Обновить</span>\n\n                        </div>\n                        <div class=\"tab-pane fade\" id=\"profile\" role=\"tabpanel\" aria-labelledby=\"profile-tab\">\n                            <div class=\"form-group\">\n                                <label for=\"emailInput\">Email</label>\n                                <input type=\"text\" class=\"form-control\" id=\"emailInput\" v-model=\"email\">\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"oldPasswordInput\">Старый пароль</label>\n                                <input type=\"password\" class=\"form-control\" id=\"oldPasswordInput\" v-model=\"oldPassword\">\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"passwordInput\">Новый пароль</label>\n                                <input type=\"password\" class=\"form-control\" id=\"passwordInput\" v-model=\"newPassword\">\n                            </div>\n\n                            <div class=\"form-group\">\n                                <label for=\"confirmInput\">Повторите пароль</label>\n                                <input type=\"password\" class=\"form-control\" id=\"confirmInput\" v-model=\"confirmPassword\">\n                            </div>\n\n                            <span class=\"btn btn-primary btn-block\" v-on:click=\"updateAccount()\">Обновить</span>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n</template>\n\n<script>\n\nexport default {\n    name: \"user.profile\",\n\n    data(){\n        return {\n            userId: null,\n            name: null,\n            description: null,\n            banned: 0,\n            admin: 0,\n            createdAt: null,\n            updatedAt: null,\n            avatar: null,\n            email:null,\n\n            oldPassword: null,\n            confirmPassword: null,\n            newPassword: null,\n\n            authenticated: auth.check(),\n            authUser: auth.user,\n\n\n            labels: {\n                submit: \"загрузить\",\n                cancel: \"отмена\"\n            },\n\n            uploadHeaders: {\n                Authorization: \"Bearer \" + auth.token\n            },\n\n            outputOptions:{\n                // width: 150,\n                // height: 150,\n            },\n            cropperOptions:{\n                maxWidth: 150,\n                maxHeight: 150,\n                aspectRatio: 1,\n                autoCropArea: 1,\n                viewMode: 1,\n                movable: true,\n                zoomable: false\n            },\n\n            imageUploadMes: \"\"\n        }\n    },\n\n    mounted() {\n        this.loadUser();\n        Event.$on('userLoggedIn', () => {\n            this.authenticated = true;\n            this.user = auth.user;\n            this.authUser = auth.user;\n        });\n\n        Event.$on('userLogout', ()=>{\n            this.authenticated = false;\n            this.authUser = null;\n\n        });\n    },\n    methods:{\n        updateAccount(){\n            if(this.oldPassword){\n                this.updatePassword();\n            }\n\n            let user = new window.apiUser();\n            user.email = this.email;\n            user.update(this.authUser.user_id);\n            Vue.notify({group: 'auth', text: 'Пожалуйста, зайдите в вашу учетную запись ещё раз'});\n            auth.logout();\n        },\n\n        updatePassword(){\n            if(this.newPassword.length < 8){\n                Vue.notify({group: 'auth', title: 'Произошла ошибка', text: 'Поле с паролем должно быть длиннее 8 символов'});\n                return null;\n            }\n            if(this.newPassword !== this.confirmPassword){\n                Vue.notify({group: 'auth', title: 'Произошла ошибка', text: 'Пароли не совпадают'});\n                return null;\n            }\n\n            let data = new FormData();\n            data.append('oldPassword', this.oldPassword);\n            data.append('password', this.newPassword);\n            data.append('password_confirmation', this.confirmPassword);\n            api.call('post', '/api/user/password', data)\n                .then(res=>{\n                    Vue.notify({group: 'auth', title: 'Смена пароля', text: 'Пароль успешно обновлен'});\n                })\n                .catch(res=>{\n                    Vue.notify({group: 'auth', title: 'Произошла ошибка', text: 'Введен неверный старый пароль'});\n            });\n\n            this.newPassword = \"\";\n            this.oldPassword = \"\";\n            this.confirmPassword = \"\";\n        },\n\n        updateProfile(){\n           let user = new window.apiUser();\n           user.name = this.name;\n           user.description = this.description;\n           user.update(this.authUser.user_id);\n        },\n\n        loadUser(){\n            let user = new window.apiUser();\n            user.get(this.$route.params.userId).then(()=>{\n                this.userId = user.id;\n                this.name = user.name\n                this.email = user.email\n                this.description = user.description\n                this.avatar = user.avatar\n                this.banned = user.banned\n                this.admin = user.admin\n                this.createdAt = user.createdAt\n                this.updatedAt = user.updatedAt\n            })\n        },\n\n        handleUploading(form, xhr) {\n            this.imageUploadMes = \"Идет загрузка...\"\n        },\n        handleUploaded(response, form, xhr) {\n            this.avatar = response.avatar.name;\n            this.imageUploadMes = \"\"\n        },\n        handleCompleted(response, form, xhr) {\n\n        },\n        handlerError(message, type, xhr) {\n            this.imageUploadMes = \"Произошла ошибка при загрузке изображения\"\n        }\n    }\n\n}\n</script>\n\n<style scoped>\n\n\n</style>\n","import { render, staticRenderFns } from \"./UserProfile.vue?vue&type=template&id=4f3de442&scoped=true&\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f3de442\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}